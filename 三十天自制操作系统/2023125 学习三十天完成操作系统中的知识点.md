## 2023/12/5 学习三十天完成操作系统中的知识点

### 一.关于CMake的疑问

> CmakeList的使用：https://www.bilibili.com/video/BV12f4y1X7Jm/?spm_id_from=333.337.search-card.all.click&vd_source=f16c010a2360755bbd76132e7f1b0682

#### 1.什么情况下需要使用cmake，为什么之前学写的简单程序不需要使用cmake？

> - CMake 是一个跨平台的构建工具，用于管理和生成项目的构建文件。它提供了一个简化的语言，允许开发者描述项目的结构、依赖关系和构建过程。通过使用 CMake，可以生成针对不同编译器和操作系统的 Makefile 或其他本地构建系统的文件。CMake 的目标是使项目更容易跨平台构建，并为开发者提供更灵活的构建选项。

一般的c语言程序中，如果只是简单的单个文件程序或者几个文件的小型项目，并且不涉及复杂的依赖关系和项目结构，可能不需要显式的使用构建工具，**直接使用编译器gcc来编译源代码**。

然而，对于大型项目，涉及多个源文件，依赖外部库，需要特定的编译选项的时候，使用构建工具变得更重要，构建工具可以帮助自动化项目的编译，链接，以及其他构建步骤，简化了项目的管理和维护。

使用CMake构建的时候，最终的代码是由底层的编译器（例如gcc,clang）进行的编译，而Cmake本身并不是一个编译器，而是一个生成构建系统的文件。

**而CMakeList就是用来制定这个过程中应该如何构建的**

#### 2.关于gcc,g++,clang以及链接记不清楚的东西

- **gcc**:
  - `gcc` 是 GNU Compiler Collection 的缩写，最初是为编译 C 语言而设计的。然而，它后来扩展支持了 C++、Fortran、Ada 等多种编程语言。`gcc` 是开源的，并且广泛用于各种 Unix/Linux 系统。
- **g++**:
  - `g++` 实际上是 `gcc` 的一个别名，但专门用于编译 C++ 代码。当你使用 `g++` 命令时，它会将源文件视为 C++ 代码并调用 `gcc` 编译器以适当的方式进行处理。`g++` 会自动链接 C++ 的标准库。
- **clang**:
  - `clang` 是由 LLVM 项目开发的另一个编译器，用于编译 C、C++ 和 Objective-C 代码。它被设计为更快速、更模块化、更易于扩展的替代品，并支持更严格的语法检查和更好的错误报告。

这些编译器之间的主要区别在于实现和优化策略，以及一些特定的语法支持。不同编译器可能对标准的实现和扩展功能的支持程度有所不同。

在编译项目时，"链接" 指的是将多个目标文件或库文件组合在一起，以生成最终的可执行文件或库文件。编译器在编译源代码时生成目标文件（`.o` 文件），而链接器（linker）负责将这些目标文件以及可能的库文件合并在一起，解决符号引用，最终生成可执行文件或库文件。链接过程包括将不同模块的代码和数据组合成一个单一文件，使得程序能够正确执行。

#### 3.复习一个.c文件是如何被编译的

.c文件编译过程如下：

**1. 预处理** ：在这个阶段，预处理器（通常是 `cpp`，C Preprocessor）会处理源文件，执行诸如宏展开、头文件包含等操作。预处理后的结果会生成一个中间文件（通常以 `.i` 扩展名结尾）

​				--> **2.编译**：编译器（如 `gcc`）会将预处理后的文件编译成汇编语言文件（通常以 `.s` 扩展名结尾）。

​								--->**3.汇编**：汇编语言变成目标文件，也就是对应archive的机器码

​												--->**4.链接**：讲目标文件与可能的库文件链接在一起，解决符号引用

